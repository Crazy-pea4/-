<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        span {
            float: left;
            margin-left: 10px;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            color: white;
            background-color: black;
        }
    </style>
</head>

<body>
    <span class="day"></span>
    <span class="hour"></span>
    <span class="minute"></span>
    <span class="second"></span>
    <script>
        // setInterval(回调函数，[间隔的毫秒数]); 会反复调用一个函数
        var time_day = document.querySelector('.day');
        var time_hour = document.querySelector('.hour');
        var time_minute = document.querySelector('.minute');
        var time_second = document.querySelector('.second');
        var time_target = +new Date('2021-10-29 22:30:00'); //用户输入的时间的总毫秒数，理论上应该比当前毫秒数大，这样倒计时才有意义
        // 同时为了防止页面刚刷新时需要等待一秒才调用这个函数，影响用户体验。解决方法：先调用一次
        count();
        function count() {
            var time_now = +new Date(); //当前时间总毫秒数 
            var times = (time_target - time_now) / 1000; //将毫秒转换成秒
            var day = parseInt(times / 60 / 60 / 24); //导出天数
            var hours = parseInt(times / 60 / 60 % 24); //导出小时
            hours = hours < 10 ? hours = '0' + hours : hours;
            var minutes = parseInt(times / 60 % 60); //导出分钟
            minutes = minutes < 10 ? minutes = '0' + minutes : minutes;
            var seconds = parseInt(times % 60); //导出秒钟
            seconds = seconds < 10 ? seconds = '0' + seconds : seconds;
            time_day.innerHTML = day + '天';
            time_hour.innerHTML = hours;
            time_minute.innerHTML = minutes;
            time_second.innerHTML = seconds;
        }
        setInterval(count, 1000);
    </script>
</body>

</html>