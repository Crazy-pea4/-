<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../js/vue.js"></script>
</head>

<body>
    <div class="r">
        <h2>请搜索您想要的明星</h2>
        <!-- 1. 收集用户输入信息 -->
        <input type="text" name="" id="" placeholder="请输入" v-model="keyWord">
        <ul>
            <li v-for="(p, index) in filpeople" :key="p.id">
                {{p.name}}-年龄：{{p.age}}
            </li>
        </ul>
    </div>
    <script>
        // 用watch监视属性实现
        //#region 
        // new Vue({
        //     el: '.r',
        //     data() {
        //         return {
        //             keyWord: '',
        //             people: [{
        //                     id: 1,
        //                     name: '周杰伦',
        //                     age: 36,
        //                 },
        //                 {
        //                     id: 2,
        //                     name: '温兆伦',
        //                     age: 46,
        //                 },
        //                 {
        //                     id: 3,
        //                     name: '马冬梅',
        //                     age: 32
        //                 },
        //                 {
        //                     id: 4,
        //                     name: '周冬雨',
        //                     age: 22
        //                 }
        //             ],
        //         }
        //     },
        //     watch: {
        //         keyWord: {
        //             // 每个字符的第一位（索引 = 0）的位置也存在一个空字符 ''
        //             immediate: true,
        //             handler(value) {
        //                 this.filpeople = this.people.filter((p) => {
        //                     return p.name.indexOf(value) != -1
        //                 })
        //             }
        //         }
        //     },
        // })
        //#endregion
        // 用computed计算属性实现
        new Vue({
            el: '.r',
            data() {
                return {
                    keyWord: '',
                    people: [{
                            id: 1,
                            name: '周杰伦',
                            age: 36,
                        },
                        {
                            id: 2,
                            name: '温兆伦',
                            age: 46,
                        },
                        {
                            id: 3,
                            name: '马冬梅',
                            age: 32
                        },
                        {
                            id: 4,
                            name: '周冬雨',
                            age: 22
                        }
                    ],
                }
            },
            computed: {
                filpeople() {
                    return this.people.filter((p) => {
                        return p.name.indexOf(this.keyWord) != -1
                    })
                }
            },
        })
    </script>
</body>

</html>