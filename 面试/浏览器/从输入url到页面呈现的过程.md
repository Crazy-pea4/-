## 判断输入 url 是否合法

若不合法，例如输入了"你好"，则会使用浏览器用户默认的搜索引擎搜索该内容。若合法则走下面流程

## 1. dns 解析

浏览器缓存——缓存的时间也是有限制的，一般几分钟到几小时

系统缓存——通过查找本机的 host 文件

使用 tcp ip 参数中设置的 DNS 服务器进行查询

本地 DNS 服务器 发送查询报文到 根 DNS 服务器，若根 DNS 服务器可以解析则返回 IP 地址，若不行则根 DNS 服务器返回顶级 DNS 服务器地址

本地 DNS 服务器 发送查询报文到 顶级 DNS 服务器，若顶级 DNS 服务器可以解析则返回 IP 地址，若不行则顶级 DNS 服务器返回权威 DNS 服务器地址

权威 DNS 服务器若可以解析则返回最终的 IP 地址，否则是域名错误/不存在

## 2. 建立 TCP 连接

三次握手——详情\*

## 3. 发送 HTTP/HTTPS 请求

> 可以使用 HTTP 协议进行数据传输。

> 如果使用的是 HTTPS 那么在 TCP 和 HTTP 之间多一条 TLS 加密协议

发送初始的 HTTP GET 请求，目标通常是一个 html 文件。

服务器返回响应报文，其中包含相关的响应头和 html 正文

## 4. 浏览器解析并渲染页面

浏览器渲染页面流程-详情\*

## 5. 页签关闭

四次挥手-详情\*
