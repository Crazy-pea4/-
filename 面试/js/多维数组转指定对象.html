<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /**
       * 给定一个多维数组例如[1, 2, [3, [4, 5], 6], 7, [8], 9]，
       * 实现将其改写为如下对象形式：
       * {
       *    children: [
       *        { value: 1 },
       *        { value: 2 },
       *        { children: [
       *              { value: 3 },
       *              { children: [...] }
       *              ]}
       *        ]
       * }
       */
      function arrToObj(arr) {
        let obj = {
          children: [],
        };
        for (let i = 0; i < arr.length; i++) {
          if (Array.isArray(arr[i])) {
            const subObj = arrToObj(arr[i]);
            obj.children.push(subObj);
          } else {
            obj.children.push({ value: arr[i] });
          }
        }
        return obj;
      }

      const arr = [1, 2, [3, [4, 5], 6], 7, [8], 9];
      console.log(arrToObj(arr));
    </script>
  </body>
</html>
